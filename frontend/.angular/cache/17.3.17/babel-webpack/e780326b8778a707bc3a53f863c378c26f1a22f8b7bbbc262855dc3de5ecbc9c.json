{"ast":null,"code":"import { ToastrService } from 'ngx-toastr';\nimport { StockTransferService } from '../../../core/services/stock-transfer.service';\nimport { WarehouseService } from '../../../core/services/warehouse.service';\nimport { ProductsService } from '../../../core/services/products.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/stock-transfer.service\";\nimport * as i2 from \"../../../core/services/warehouse.service\";\nimport * as i3 from \"../../../core/services/products.service\";\nimport * as i4 from \"ngx-toastr\";\nexport class StockTransferComponent {\n  constructor(stockTransferService, warehouseService, productsService, toastr) {\n    this.stockTransferService = stockTransferService;\n    this.warehouseService = warehouseService;\n    this.productsService = productsService;\n    this.toastr = toastr;\n    this.transfers = [];\n    this.warehouses = [];\n    this.products = [];\n    this.loading = true;\n    this.showAddModal = false;\n    this.transferForm = {\n      fromWarehouse: '',\n      toWarehouse: '',\n      productId: '',\n      quantity: '',\n      notes: ''\n    };\n  }\n  ngOnInit() {\n    this.loadTransfers();\n    this.loadWarehouses();\n    this.loadProducts();\n  }\n  loadTransfers() {\n    this.loading = true;\n    this.stockTransferService.list({}).subscribe({\n      next: res => {\n        this.transfers = Array.isArray(res) ? res : [];\n        this.loading = false;\n      },\n      error: () => {\n        this.toastr.error('Failed to load stock transfers');\n        this.loading = false;\n      }\n    });\n  }\n  loadWarehouses() {\n    this.warehouseService.list({\n      page: 1,\n      limit: 1000\n    }).subscribe({\n      next: res => {\n        this.warehouses = res.warehouses;\n      },\n      error: () => {\n        this.toastr.error('Failed to load warehouses');\n      }\n    });\n  }\n  loadProducts() {\n    this.productsService.list({\n      page: 1,\n      limit: 1000\n    }).subscribe({\n      next: res => {\n        this.products = res.products;\n      },\n      error: () => {\n        this.toastr.error('Failed to load products');\n      }\n    });\n  }\n  openAddModal() {\n    this.showAddModal = true;\n  }\n  closeAddModal() {\n    this.showAddModal = false;\n    this.transferForm = {\n      fromWarehouse: '',\n      toWarehouse: '',\n      productId: '',\n      quantity: '',\n      notes: ''\n    };\n  }\n  submitTransfer() {\n    if (!this.transferForm.fromWarehouse || !this.transferForm.toWarehouse || !this.transferForm.productId || !this.transferForm.quantity) {\n      this.toastr.error('Please fill in all required fields');\n      return;\n    }\n    this.stockTransferService.create({\n      fromWarehouse: this.transferForm.fromWarehouse,\n      toWarehouse: this.transferForm.toWarehouse,\n      product: this.transferForm.productId,\n      quantity: parseFloat(this.transferForm.quantity),\n      notes: this.transferForm.notes\n    }).subscribe({\n      next: () => {\n        this.toastr.success('Stock transfer created successfully');\n        this.closeAddModal();\n        this.loadTransfers();\n      },\n      error: error => {\n        this.toastr.error(error?.message || 'Failed to create stock transfer');\n      }\n    });\n  }\n  static {\n    this.ɵfac = function StockTransferComponent_Factory(t) {\n      return new (t || StockTransferComponent)(i0.ɵɵdirectiveInject(i1.StockTransferService), i0.ɵɵdirectiveInject(i2.WarehouseService), i0.ɵɵdirectiveInject(i3.ProductsService), i0.ɵɵdirectiveInject(i4.ToastrService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: StockTransferComponent,\n      selectors: [[\"app-stock-transfer\"]],\n      decls: 5,\n      vars: 0,\n      consts: [[1, \"space-y-4\"], [1, \"page-title\"]],\n      template: function StockTransferComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n          i0.ɵɵtext(2, \"Stock Transfer\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"p\");\n          i0.ɵɵtext(4, \"Coming soon...\");\n          i0.ɵɵelementEnd()();\n        }\n      }\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}