{"ast":null,"code":"import { map } from 'rxjs';\nimport { ApiService } from './api.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./api.service\";\nexport class SuppliersService {\n  constructor(api) {\n    this.api = api;\n  }\n  list(params) {\n    return this.api.get('/suppliers', params).pipe(map(res => ({\n      suppliers: (res.suppliers || res.data || []).map(this.mapSupplier),\n      page: res.page || params['page'] || 1,\n      total: res.total || 0,\n      pages: res.pages || 0\n    })));\n  }\n  get(id) {\n    return this.api.get(`/suppliers/${id}`).pipe(map(res => this.mapSupplier(res.data || res.supplier)));\n  }\n  create(payload) {\n    return this.api.post('/suppliers', payload).pipe(map(res => this.mapSupplier(res.data)));\n  }\n  update(id, payload) {\n    return this.api.put(`/suppliers/${id}`, payload).pipe(map(res => this.mapSupplier(res.data)));\n  }\n  delete(id) {\n    return this.api.delete(`/suppliers/${id}`).pipe(map(res => res.success !== false));\n  }\n  mapSupplier(doc) {\n    if (!doc) return doc;\n    const {\n      _id,\n      ...rest\n    } = doc;\n    return {\n      id: _id || doc.id,\n      ...rest\n    };\n  }\n  static {\n    this.ɵfac = function SuppliersService_Factory(t) {\n      return new (t || SuppliersService)(i0.ɵɵinject(i1.ApiService));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: SuppliersService,\n      factory: SuppliersService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}