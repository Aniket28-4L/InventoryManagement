{"ast":null,"code":"import { map } from 'rxjs';\nimport { ApiService } from './api.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./api.service\";\nexport class UsersService {\n  constructor(api) {\n    this.api = api;\n  }\n  list(params) {\n    return this.api.get('/users', params).pipe(map(res => {\n      if (Array.isArray(res.data)) {\n        return {\n          users: res.data,\n          page: 1,\n          total: res.data.length,\n          pages: 1\n        };\n      }\n      return {\n        users: res.data?.users || [],\n        page: res.data?.page || 1,\n        total: res.data?.total || 0,\n        pages: res.data?.pages || 0\n      };\n    }));\n  }\n  get(id) {\n    return this.api.get(`/users/${id}`).pipe(map(res => res.data));\n  }\n  create(payload) {\n    return this.api.post('/users', payload).pipe(map(res => res.data));\n  }\n  update(id, payload) {\n    return this.api.put(`/users/${id}`, payload).pipe(map(res => res.data));\n  }\n  delete(id) {\n    return this.api.delete(`/users/${id}`).pipe(map(res => res.success !== false));\n  }\n  static {\n    this.ɵfac = function UsersService_Factory(t) {\n      return new (t || UsersService)(i0.ɵɵinject(i1.ApiService));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: UsersService,\n      factory: UsersService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}