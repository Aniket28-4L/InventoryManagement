{"ast":null,"code":"import { Router, NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../sidebar/sidebar.component\";\nimport * as i4 from \"../topbar/topbar.component\";\nfunction DashboardLayoutComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function DashboardLayoutComponent_div_2_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.sidebarOpen = false);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nexport class DashboardLayoutComponent {\n  constructor(router) {\n    this.router = router;\n    this.sidebarOpen = true;\n    this.isMobile = false;\n    this.touchStartX = 0;\n    this.touchEndX = 0;\n    this.checkScreenSize();\n  }\n  ngOnInit() {\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(() => {\n      if (this.isMobile) {\n        this.sidebarOpen = false;\n      }\n    });\n  }\n  onResize() {\n    this.checkScreenSize();\n  }\n  checkScreenSize() {\n    this.isMobile = window.innerWidth < 768; // md breakpoint\n    if (this.isMobile) {\n      this.sidebarOpen = false;\n    } else {\n      this.sidebarOpen = true;\n    }\n  }\n  toggleSidebar() {\n    this.sidebarOpen = !this.sidebarOpen;\n  }\n  handleSwipeStart(event) {\n    this.touchStartX = event.changedTouches[0].screenX;\n  }\n  handleSwipeEnd(event) {\n    this.touchEndX = event.changedTouches[0].screenX;\n    this.handleSwipeGesture();\n  }\n  handleSwipeGesture() {\n    const swipeThreshold = 50; // minimum distance for swipe\n    const swipeDistance = this.touchEndX - this.touchStartX;\n    // Only handle swipes on mobile\n    if (!this.isMobile) return;\n    // Swipe right to open sidebar\n    if (swipeDistance > swipeThreshold && !this.sidebarOpen) {\n      // Only allow opening if swipe starts from the left edge (first 50px)\n      if (this.touchStartX < 50) {\n        this.sidebarOpen = true;\n      }\n    }\n    // Swipe left to close sidebar\n    if (swipeDistance < -swipeThreshold && this.sidebarOpen) {\n      this.sidebarOpen = false;\n    }\n  }\n  static {\n    this.ɵfac = function DashboardLayoutComponent_Factory(t) {\n      return new (t || DashboardLayoutComponent)(i0.ɵɵdirectiveInject(i1.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardLayoutComponent,\n      selectors: [[\"app-dashboard-layout\"]],\n      hostBindings: function DashboardLayoutComponent_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"resize\", function DashboardLayoutComponent_resize_HostBindingHandler($event) {\n            return ctx.onResize($event);\n          }, false, i0.ɵɵresolveWindow);\n        }\n      },\n      decls: 8,\n      vars: 3,\n      consts: [[1, \"min-h-screen\", \"bg-neutral-25\", 3, \"touchstart\", \"touchend\"], [1, \"flex\"], [\"class\", \"fixed inset-0 bg-black/50 z-30 transition-opacity\", 3, \"click\", 4, \"ngIf\"], [3, \"toggle\", \"open\"], [1, \"flex-1\", \"min-w-0\", \"transition-all\", \"duration-300\", 3, \"ngClass\"], [3, \"toggleSidebar\"], [1, \"p-4\", \"md:p-6\", \"lg:p-8\", \"space-y-6\"], [1, \"fixed\", \"inset-0\", \"bg-black/50\", \"z-30\", \"transition-opacity\", 3, \"click\"]],\n      template: function DashboardLayoutComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵlistener(\"touchstart\", function DashboardLayoutComponent_Template_div_touchstart_0_listener($event) {\n            return ctx.handleSwipeStart($event);\n          })(\"touchend\", function DashboardLayoutComponent_Template_div_touchend_0_listener($event) {\n            return ctx.handleSwipeEnd($event);\n          });\n          i0.ɵɵelementStart(1, \"div\", 1);\n          i0.ɵɵtemplate(2, DashboardLayoutComponent_div_2_Template, 1, 0, \"div\", 2);\n          i0.ɵɵelementStart(3, \"app-sidebar\", 3);\n          i0.ɵɵlistener(\"toggle\", function DashboardLayoutComponent_Template_app_sidebar_toggle_3_listener() {\n            return ctx.toggleSidebar();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 4)(5, \"app-topbar\", 5);\n          i0.ɵɵlistener(\"toggleSidebar\", function DashboardLayoutComponent_Template_app_topbar_toggleSidebar_5_listener() {\n            return ctx.toggleSidebar();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"main\", 6);\n          i0.ɵɵelement(7, \"router-outlet\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.isMobile && ctx.sidebarOpen);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"open\", ctx.sidebarOpen);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngClass\", !ctx.isMobile && ctx.sidebarOpen ? \"md:ml-72 lg:ml-72\" : !ctx.isMobile && !ctx.sidebarOpen ? \"md:ml-20 lg:ml-20\" : \"\");\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgIf, i1.RouterOutlet, i3.SidebarComponent, i4.TopbarComponent],\n      styles: [\"[_nghost-%COMP%] {\\n  display: block;\\n}\"]\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}