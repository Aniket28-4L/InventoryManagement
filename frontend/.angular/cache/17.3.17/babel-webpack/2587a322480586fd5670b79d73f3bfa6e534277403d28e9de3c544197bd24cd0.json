{"ast":null,"code":"import _asyncToGenerator from \"F:/IM1/InventoryManagement/frontend/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ElementRef } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { ProductsService } from '../../../core/services/products.service';\nimport { WarehouseService } from '../../../core/services/warehouse.service';\nimport { AuthService } from '../../../core/services/auth.service';\nimport { ApiService } from '../../../core/services/api.service';\nimport { environment } from '../../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../core/services/products.service\";\nimport * as i3 from \"../../../core/services/warehouse.service\";\nimport * as i4 from \"../../../core/services/auth.service\";\nimport * as i5 from \"../../../core/services/api.service\";\nimport * as i6 from \"ngx-toastr\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"../../../shared/components/spinner/spinner.component\";\nimport * as i10 from \"../../../shared/components/modal/modal.component\";\nimport * as i11 from \"../../../shared/components/barcode-preview/barcode-preview.component\";\nimport * as i12 from \"../../../shared/components/lucide-icon/lucide-icon.component\";\nconst _c0 = [\"printContainer\"];\nconst _c1 = a0 => [\"/products\", a0, \"edit\"];\nconst _c2 = (a0, a1, a2) => ({\n  \"bg-red-50 border-red-200\": a0,\n  \"bg-orange-50 border-orange-200\": a1,\n  \"bg-blue-50 border-blue-200\": a2\n});\nconst _c3 = (a0, a1) => ({\n  \"text-red-600 font-bold\": a0,\n  \"text-gray-900\": a1\n});\nconst _c4 = (a0, a1) => ({\n  \"text-orange-600 font-semibold\": a0,\n  \"text-gray-700\": a1\n});\nconst _c5 = (a0, a1) => ({\n  \"bg-red-50/30\": a0,\n  \"bg-orange-50/30\": a1\n});\nconst _c6 = a0 => ({\n  \"text-red-600 font-bold\": a0\n});\nconst _c7 = (a0, a1, a2) => ({\n  \"text-orange-600 font-semibold\": a0,\n  \"text-green-600\": a1,\n  \"text-gray-500\": a2\n});\nfunction ProductDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"app-spinner\", 10);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1, \" Product not found.\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_2_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Generate PDF\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_2_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Generating...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_2_div_53_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.product.supplier.companyName, \" \");\n  }\n}\nfunction ProductDetailComponent_div_2_div_53_div_7_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Email: \", ctx_r1.product.supplier.contact.email, \"\");\n  }\n}\nfunction ProductDetailComponent_div_2_div_53_div_7_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Phone: \", ctx_r1.product.supplier.contact.phone, \"\");\n  }\n}\nfunction ProductDetailComponent_div_2_div_53_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtemplate(1, ProductDetailComponent_div_2_div_53_div_7_div_1_Template, 2, 1, \"div\", 17)(2, ProductDetailComponent_div_2_div_53_div_7_div_2_Template, 2, 1, \"div\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.product.supplier.contact == null ? null : ctx_r1.product.supplier.contact.email);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.product.supplier.contact == null ? null : ctx_r1.product.supplier.contact.phone);\n  }\n}\nfunction ProductDetailComponent_div_2_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 26);\n    i0.ɵɵtext(2, \"Supplier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 27)(4, \"div\", 46);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ProductDetailComponent_div_2_div_53_div_6_Template, 2, 1, \"div\", 47)(7, ProductDetailComponent_div_2_div_53_div_7_Template, 3, 2, \"div\", 48);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.product.supplierName);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.product.supplier && ctx_r1.product.supplier.companyName);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.product.supplier && ((ctx_r1.product.supplier.contact == null ? null : ctx_r1.product.supplier.contact.email) || (ctx_r1.product.supplier.contact == null ? null : ctx_r1.product.supplier.contact.phone)));\n  }\n}\nfunction ProductDetailComponent_div_2_div_59_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"span\", 46);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", v_r3.option, \":\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", v_r3.value, \" \");\n  }\n}\nfunction ProductDetailComponent_div_2_div_59_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductDetailComponent_div_2_div_59_div_4_div_1_Template, 4, 2, \"div\", 52);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.product.variants);\n  }\n}\nfunction ProductDetailComponent_div_2_div_59_ng_template_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Value: \", ctx_r1.product.variantValue, \"\");\n  }\n}\nfunction ProductDetailComponent_div_2_div_59_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(2, ProductDetailComponent_div_2_div_59_ng_template_5_div_2_Template, 2, 1, \"div\", 47);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.product.variantName || \"-\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.product.variantValue);\n  }\n}\nfunction ProductDetailComponent_div_2_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 26);\n    i0.ɵɵtext(2, \"Variants\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 27);\n    i0.ɵɵtemplate(4, ProductDetailComponent_div_2_div_59_div_4_Template, 2, 1, \"div\", 51)(5, ProductDetailComponent_div_2_div_59_ng_template_5_Template, 3, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const singleVariant_r4 = i0.ɵɵreference(6);\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.product.variants && ctx_r1.product.variants.length > 0)(\"ngIfElse\", singleVariant_r4);\n  }\n}\nfunction ProductDetailComponent_div_2_div_60_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 59)(1, \"td\", 57);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 57);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 57);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const v_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(v_r5.option);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(v_r5.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(v_r5.qty || 0);\n  }\n}\nfunction ProductDetailComponent_div_2_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"Variant Entries\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 55)(4, \"thead\")(5, \"tr\", 56)(6, \"th\", 57);\n    i0.ɵɵtext(7, \"Variant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 57);\n    i0.ɵɵtext(9, \"Value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 57);\n    i0.ɵɵtext(11, \"Quantity\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, ProductDetailComponent_div_2_div_60_tr_13_Template, 7, 3, \"tr\", 58);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.product.variants);\n  }\n}\nfunction ProductDetailComponent_div_2_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 60)(1, \"div\", 61);\n    i0.ɵɵelement(2, \"app-barcode-preview\", 62);\n    i0.ɵɵelementStart(3, \"span\", 63);\n    i0.ɵɵtext(4, \"Code 128\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 61);\n    i0.ɵɵelement(6, \"app-barcode-preview\", 64);\n    i0.ɵɵelementStart(7, \"span\", 63);\n    i0.ɵɵtext(8, \"QR Code\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", ctx_r1.printBarcodeValue || ctx_r1.product.barcode);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", ctx_r1.getQrCodeValue());\n  }\n}\nfunction ProductDetailComponent_div_2_div_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"No barcode available.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_2_div_73_lucide_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"lucide-icon\", 74);\n  }\n}\nfunction ProductDetailComponent_div_2_div_73_lucide_icon_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"lucide-icon\", 75);\n  }\n}\nfunction ProductDetailComponent_div_2_div_73_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 76);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_div_73_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.showAddStockModal = true);\n    });\n    i0.ɵɵtext(1, \" Add Stock Now \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_2_div_73_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 77);\n    i0.ɵɵtext(1, \" \\u26A0\\uFE0F This product is out of stock. Consider adding stock to meet demand. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_2_div_73_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 78);\n    i0.ɵɵtext(1, \" \\u26A0\\uFE0F All available stock is currently reserved. No stock available for new orders. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_2_div_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"div\", 13)(2, \"div\", 15);\n    i0.ɵɵtemplate(3, ProductDetailComponent_div_2_div_73_lucide_icon_3_Template, 1, 0, \"lucide-icon\", 66)(4, ProductDetailComponent_div_2_div_73_lucide_icon_4_Template, 1, 0, \"lucide-icon\", 67);\n    i0.ɵɵelementStart(5, \"div\")(6, \"div\", 68);\n    i0.ɵɵtext(7, \" Total Stock: \");\n    i0.ɵɵelementStart(8, \"span\", 69);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 70);\n    i0.ɵɵtext(11, \" Available: \");\n    i0.ɵɵelementStart(12, \"span\", 69);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(14, ProductDetailComponent_div_2_div_73_button_14_Template, 2, 0, \"button\", 71);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, ProductDetailComponent_div_2_div_73_div_15_Template, 2, 0, \"div\", 72)(16, ProductDetailComponent_div_2_div_73_div_16_Template, 2, 0, \"div\", 73);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(10, _c2, ctx_r1.hasZeroStock, ctx_r1.hasLowStock && !ctx_r1.hasZeroStock, !ctx_r1.hasZeroStock && !ctx_r1.hasLowStock));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasZeroStock);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasLowStock && !ctx_r1.hasZeroStock);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(14, _c3, ctx_r1.hasZeroStock, !ctx_r1.hasZeroStock));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.totalStock);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(17, _c4, ctx_r1.hasLowStock, !ctx_r1.hasLowStock));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.totalAvailable);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasZeroStock);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasZeroStock);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasLowStock && !ctx_r1.hasZeroStock);\n  }\n}\nfunction ProductDetailComponent_div_2_div_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 79);\n    i0.ɵɵelement(1, \"app-spinner\", 80);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_2_div_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 81);\n    i0.ɵɵtext(1, \" No stock entries found. Add stock to get started. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_2_div_76_tr_19_lucide_icon_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"lucide-icon\", 99);\n  }\n}\nfunction ProductDetailComponent_div_2_div_76_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 88)(1, \"td\", 89);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 89);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 90);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 91)(8, \"div\", 92);\n    i0.ɵɵtemplate(9, ProductDetailComponent_div_2_div_76_tr_19_lucide_icon_9_Template, 1, 0, \"lucide-icon\", 93);\n    i0.ɵɵelementStart(10, \"span\", 69);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"td\", 94)(13, \"span\", 69);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"td\", 95);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 96)(18, \"button\", 97);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_div_76_tr_19_Template_button_click_18_listener() {\n      const item_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.openAdjustModal(item_r8));\n    });\n    i0.ɵɵelement(19, \"lucide-icon\", 98);\n    i0.ɵɵtext(20, \" Adjust \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(10, _c5, (item_r8.qty || 0) === 0, (item_r8.qty || 0) > 0 && (item_r8.availableQty || 0) === 0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((item_r8.warehouse == null ? null : item_r8.warehouse.name) || (item_r8.warehouse == null ? null : item_r8.warehouse.code) || \"Unknown\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r8.variantValue || \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatLocation(item_r8.location), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (item_r8.qty || 0) === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c6, (item_r8.qty || 0) === 0));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(item_r8.qty || 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(15, _c7, (item_r8.qty || 0) > 0 && (item_r8.availableQty || 0) === 0, (item_r8.availableQty || 0) > 0, (item_r8.availableQty || 0) === 0));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(item_r8.availableQty || 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r8.reservedQty || 0);\n  }\n}\nfunction ProductDetailComponent_div_2_div_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 82)(1, \"table\", 83)(2, \"thead\")(3, \"tr\", 59)(4, \"th\", 84);\n    i0.ɵɵtext(5, \"Warehouse\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 84);\n    i0.ɵɵtext(7, \"Variant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 84);\n    i0.ɵɵtext(9, \"Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 85);\n    i0.ɵɵtext(11, \"Quantity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 85);\n    i0.ɵɵtext(13, \"Available\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 85);\n    i0.ɵɵtext(15, \"Reserved\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 86);\n    i0.ɵɵtext(17, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"tbody\");\n    i0.ɵɵtemplate(19, ProductDetailComponent_div_2_div_76_tr_19_Template, 21, 19, \"tr\", 87);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.stock);\n  }\n}\nfunction ProductDetailComponent_div_2_app_modal_77_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 114);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const wh_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", wh_r10._id || wh_r10.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", wh_r10.name, \" \", wh_r10.code ? \"(\" + wh_r10.code + \")\" : \"\", \" \");\n  }\n}\nfunction ProductDetailComponent_div_2_app_modal_77_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 103);\n    i0.ɵɵtext(1, \"*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_2_app_modal_77_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 114);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const val_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", val_r11);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(val_r11);\n  }\n}\nfunction ProductDetailComponent_div_2_app_modal_77_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 115);\n    i0.ɵɵtext(1, \"No variant values defined for this product\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailComponent_div_2_app_modal_77_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-modal\", 100);\n    i0.ɵɵlistener(\"close\", function ProductDetailComponent_div_2_app_modal_77_Template_app_modal_close_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      ctx_r1.showAddStockModal = false;\n      return i0.ɵɵresetView(ctx_r1.stockForm = {\n        warehouseId: \"\",\n        qty: \"\",\n        locationId: \"\"\n      });\n    });\n    i0.ɵɵelementStart(1, \"form\", 101);\n    i0.ɵɵlistener(\"ngSubmit\", function ProductDetailComponent_div_2_app_modal_77_Template_form_ngSubmit_1_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.handleAddStock($event));\n    });\n    i0.ɵɵelementStart(2, \"div\")(3, \"label\", 102);\n    i0.ɵɵtext(4, \"Warehouse \");\n    i0.ɵɵelementStart(5, \"span\", 103);\n    i0.ɵɵtext(6, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"select\", 104);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductDetailComponent_div_2_app_modal_77_Template_select_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.stockForm.warehouseId, $event) || (ctx_r1.stockForm.warehouseId = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(8, \"option\", 105);\n    i0.ɵɵtext(9, \"Select warehouse\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, ProductDetailComponent_div_2_app_modal_77_option_10_Template, 2, 3, \"option\", 106);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\")(12, \"label\", 102);\n    i0.ɵɵtext(13, \"Variant Value \");\n    i0.ɵɵtemplate(14, ProductDetailComponent_div_2_app_modal_77_span_14_Template, 2, 0, \"span\", 107);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"select\", 108);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductDetailComponent_div_2_app_modal_77_Template_select_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.stockForm.variantValue, $event) || (ctx_r1.stockForm.variantValue = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(16, \"option\", 105);\n    i0.ɵɵtext(17, \"Select value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, ProductDetailComponent_div_2_app_modal_77_option_18_Template, 2, 2, \"option\", 106);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, ProductDetailComponent_div_2_app_modal_77_p_19_Template, 2, 0, \"p\", 109);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\")(21, \"label\", 102);\n    i0.ɵɵtext(22, \"Quantity \");\n    i0.ɵɵelementStart(23, \"span\", 103);\n    i0.ɵɵtext(24, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"input\", 110);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductDetailComponent_div_2_app_modal_77_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.stockForm.qty, $event) || (ctx_r1.stockForm.qty = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"div\", 111)(27, \"button\", 112);\n    i0.ɵɵtext(28, \"Add Stock\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 113);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_app_modal_77_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      ctx_r1.showAddStockModal = false;\n      return i0.ɵɵresetView(ctx_r1.stockForm = {\n        warehouseId: \"\",\n        qty: \"\",\n        locationId: \"\"\n      });\n    });\n    i0.ɵɵtext(30, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"open\", ctx_r1.showAddStockModal);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.stockForm.warehouseId);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.warehouses);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.variantValues().length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.stockForm.variantValue);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.variantValues());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.variantValues().length === 0);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.stockForm.qty);\n  }\n}\nfunction ProductDetailComponent_div_2_app_modal_78_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-modal\", 116);\n    i0.ɵɵlistener(\"close\", function ProductDetailComponent_div_2_app_modal_78_Template_app_modal_close_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      ctx_r1.showAdjustStockModal = false;\n      ctx_r1.selectedStock = null;\n      return i0.ɵɵresetView(ctx_r1.stockForm = {\n        warehouseId: \"\",\n        qty: \"\",\n        locationId: \"\"\n      });\n    });\n    i0.ɵɵelementStart(1, \"form\", 101);\n    i0.ɵɵlistener(\"ngSubmit\", function ProductDetailComponent_div_2_app_modal_78_Template_form_ngSubmit_1_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.handleAdjustStock($event));\n    });\n    i0.ɵɵelementStart(2, \"div\")(3, \"label\", 102);\n    i0.ɵɵtext(4, \"Warehouse\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 117);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\")(7, \"label\", 102);\n    i0.ɵɵtext(8, \"Quantity \");\n    i0.ɵɵelementStart(9, \"span\", 103);\n    i0.ɵɵtext(10, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"input\", 118);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductDetailComponent_div_2_app_modal_78_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.stockForm.qty, $event) || (ctx_r1.stockForm.qty = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 115);\n    i0.ɵɵtext(13, \"Set the exact quantity for this warehouse\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 111)(15, \"button\", 112);\n    i0.ɵɵtext(16, \"Update Stock\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 113);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_app_modal_78_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      ctx_r1.showAdjustStockModal = false;\n      ctx_r1.selectedStock = null;\n      return i0.ɵɵresetView(ctx_r1.stockForm = {\n        warehouseId: \"\",\n        qty: \"\",\n        locationId: \"\"\n      });\n    });\n    i0.ɵɵtext(18, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"open\", ctx_r1.showAdjustStockModal);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"value\", (ctx_r1.selectedStock.warehouse == null ? null : ctx_r1.selectedStock.warehouse.name) || (ctx_r1.selectedStock.warehouse == null ? null : ctx_r1.selectedStock.warehouse.code) || \"Unknown\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.stockForm.qty);\n  }\n}\nfunction ProductDetailComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"h1\", 14);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.generatePdf());\n    });\n    i0.ɵɵtemplate(6, ProductDetailComponent_div_2_span_6_Template, 2, 0, \"span\", 17)(7, ProductDetailComponent_div_2_span_7_Template, 2, 0, \"span\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"a\", 18);\n    i0.ɵɵtext(9, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openBarcodeModal());\n    });\n    i0.ɵɵelement(11, \"lucide-icon\", 20);\n    i0.ɵɵtext(12, \" Generate Barcode \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.printLabel());\n    });\n    i0.ɵɵelement(14, \"lucide-icon\", 22);\n    i0.ɵɵtext(15, \" Print Label \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 23)(17, \"div\", 24)(18, \"div\", 25)(19, \"div\", 26);\n    i0.ɵɵtext(20, \"SKU\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 27);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 25)(24, \"div\", 26);\n    i0.ɵɵtext(25, \"Barcode\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 27);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 25)(29, \"div\", 26);\n    i0.ɵɵtext(30, \"Unit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 27);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 25)(34, \"div\", 26);\n    i0.ɵɵtext(35, \"Cost\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"div\", 27);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"div\", 25)(39, \"div\", 26);\n    i0.ɵɵtext(40, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\", 27);\n    i0.ɵɵtext(42);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"div\", 25)(44, \"div\", 26);\n    i0.ɵɵtext(45, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"div\", 27);\n    i0.ɵɵtext(47);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"div\", 25)(49, \"div\", 26);\n    i0.ɵɵtext(50, \"Brand\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 27);\n    i0.ɵɵtext(52);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(53, ProductDetailComponent_div_2_div_53_Template, 8, 3, \"div\", 28);\n    i0.ɵɵelementStart(54, \"div\")(55, \"div\", 29);\n    i0.ɵɵtext(56, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"div\", 30);\n    i0.ɵɵtext(58);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(59, ProductDetailComponent_div_2_div_59_Template, 7, 2, \"div\", 28)(60, ProductDetailComponent_div_2_div_60_Template, 14, 1, \"div\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"div\", 32)(62, \"div\", 33);\n    i0.ɵɵtext(63, \"Barcode\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(64, ProductDetailComponent_div_2_div_64_Template, 9, 2, \"div\", 34)(65, ProductDetailComponent_div_2_div_65_Template, 2, 0, \"div\", 35);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(66, \"div\", 32)(67, \"div\", 36)(68, \"h2\", 37);\n    i0.ɵɵtext(69, \"Stock Levels\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(70, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_Template_button_click_70_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.showAddStockModal = true);\n    });\n    i0.ɵɵelement(71, \"lucide-icon\", 39);\n    i0.ɵɵtext(72, \" Add Stock \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(73, ProductDetailComponent_div_2_div_73_Template, 17, 20, \"div\", 40)(74, ProductDetailComponent_div_2_div_74_Template, 2, 0, \"div\", 41)(75, ProductDetailComponent_div_2_div_75_Template, 2, 0, \"div\", 42)(76, ProductDetailComponent_div_2_div_76_Template, 20, 1, \"div\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(77, ProductDetailComponent_div_2_app_modal_77_Template, 31, 8, \"app-modal\", 44)(78, ProductDetailComponent_div_2_app_modal_78_Template, 19, 3, \"app-modal\", 45);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.product.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.generatingPdf);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.generatingPdf);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.generatingPdf);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(25, _c1, ctx_r1.product.id));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.product.barcode);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r1.product.sku || \"-\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.product.barcode || \"-\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.product.uom || \"-\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatCurrency(ctx_r1.product.cost), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatCurrency(ctx_r1.product.price), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.product.categoryName || \"-\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.product.brandName || \"-\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.product.supplierName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.product.description || \"No description provided.\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.product.variants && ctx_r1.product.variants.length > 0 || ctx_r1.product.variantName || ctx_r1.product.variantValue);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.product.variants && ctx_r1.product.variants.length > 0);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.product.barcode);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.product.barcode);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.stockLoading && ctx_r1.stock.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.stockLoading);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.stockLoading && ctx_r1.stock.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.stockLoading && ctx_r1.stock.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showAddStockModal);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showAdjustStockModal && ctx_r1.selectedStock);\n  }\n}\nfunction ProductDetailComponent_div_6_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const label_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"- \", label_r13.variantValue, \"\");\n  }\n}\nfunction ProductDetailComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 119)(1, \"div\", 120)(2, \"h2\", 121);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 122);\n    i0.ɵɵtext(5);\n    i0.ɵɵtemplate(6, ProductDetailComponent_div_6_span_6_Template, 2, 1, \"span\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 123);\n    i0.ɵɵelement(8, \"app-barcode-preview\", 62);\n    i0.ɵɵelementStart(9, \"p\", 124);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 125)(12, \"p\", 126);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const label_r13 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(label_r13.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"SKU: \", label_r13.sku, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", label_r13.variantValue);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", label_r13.barcode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(label_r13.barcode);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.formatCurrency(label_r13.price));\n  }\n}\nfunction ProductDetailComponent_app_modal_7_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 114);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const val_r15 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", val_r15);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(val_r15);\n  }\n}\nfunction ProductDetailComponent_app_modal_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-modal\", 127);\n    i0.ɵɵlistener(\"close\", function ProductDetailComponent_app_modal_7_Template_app_modal_close_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.showBarcodeModal = false);\n    });\n    i0.ɵɵelementStart(1, \"form\", 101);\n    i0.ɵɵlistener(\"ngSubmit\", function ProductDetailComponent_app_modal_7_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.confirmBarcodeSelection());\n    });\n    i0.ɵɵelementStart(2, \"div\")(3, \"label\", 102);\n    i0.ɵɵtext(4, \"Variant Value \");\n    i0.ɵɵelementStart(5, \"span\", 103);\n    i0.ɵɵtext(6, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"select\", 128);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductDetailComponent_app_modal_7_Template_select_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.selectedVariantValue, $event) || (ctx_r1.selectedVariantValue = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(8, \"option\", 105);\n    i0.ɵɵtext(9, \"Select value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, ProductDetailComponent_app_modal_7_option_10_Template, 2, 2, \"option\", 106);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 129)(12, \"button\", 112);\n    i0.ɵɵtext(13, \"Generate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 113);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_app_modal_7_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.showBarcodeModal = false);\n    });\n    i0.ɵɵtext(15, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"open\", ctx_r1.showBarcodeModal);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.selectedVariantValue);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.variantValues());\n  }\n}\nexport class ProductDetailComponent {\n  constructor(route, router, productsService, warehouseService, authService, api, toastr) {\n    this.route = route;\n    this.router = router;\n    this.productsService = productsService;\n    this.warehouseService = warehouseService;\n    this.authService = authService;\n    this.api = api;\n    this.toastr = toastr;\n    this.product = null;\n    this.stock = [];\n    this.warehouses = [];\n    this.loading = true;\n    this.stockLoading = false;\n    this.showAddStockModal = false;\n    this.showAdjustStockModal = false;\n    this.selectedStock = null;\n    this.stockForm = {\n      warehouseId: '',\n      qty: '',\n      locationId: '',\n      variantValue: ''\n    };\n    this.generatingPdf = false;\n    this.showBarcodeModal = false;\n    this.selectedVariantValue = '';\n    this.printBarcodeValue = '';\n    this.variantLabels = [];\n  }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.loadProduct(id);\n    }\n  }\n  loadProduct(id) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const token = _this.authService.token;\n      if (!token) return;\n      try {\n        _this.loading = true;\n        const [productRes, stockRes, warehousesRes] = yield Promise.all([_this.productsService.get(id).toPromise(), _this.productsService.stock(id).toPromise().catch(() => []), _this.warehouseService.list({\n          page: 1,\n          limit: 1000\n        }).toPromise()]);\n        _this.product = productRes;\n        _this.stock = stockRes || [];\n        _this.warehouses = warehousesRes?.warehouses || [];\n        // Auto-generate PDF if it doesn't exist (happens in backend, but ensure it's triggered)\n        // The backend getProduct endpoint already handles this\n      } catch (error) {\n        _this.toastr.error(error?.message || 'Failed to load product');\n      } finally {\n        _this.loading = false;\n      }\n    })();\n  }\n  getQrCodeValue() {\n    if (!this.product) return '';\n    const origin = window.location.origin;\n    const payload = String(this.printBarcodeValue || this.product.barcode || this.product.sku || '').trim();\n    return payload ? `${origin}/stock/transfer?sku=${encodeURIComponent(payload)}` : `${origin}/stock/transfer`;\n  }\n  refreshStock() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const id = _this2.route.snapshot.paramMap.get('id');\n      if (!id) return;\n      const token = _this2.authService.token;\n      if (!token) return;\n      try {\n        _this2.stockLoading = true;\n        const stockRes = yield _this2.productsService.stock(id).toPromise();\n        _this2.stock = stockRes || [];\n      } catch (error) {\n        console.error('Failed to refresh stock:', error);\n      } finally {\n        _this2.stockLoading = false;\n      }\n    })();\n  }\n  handleAddStock(e) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      e.preventDefault();\n      const id = _this3.route.snapshot.paramMap.get('id');\n      if (!id || !_this3.stockForm.warehouseId || !_this3.stockForm.qty) {\n        _this3.toastr.error('Please fill in warehouse and quantity');\n        return;\n      }\n      if (!_this3.stockForm.variantValue) {\n        const values = _this3.variantValues();\n        if (values.length > 0) {\n          _this3.toastr.error('Please select a variant value');\n          return;\n        }\n      }\n      const token = _this3.authService.token;\n      if (!token) return;\n      try {\n        yield _this3.warehouseService.addStock({\n          productId: id,\n          warehouseId: _this3.stockForm.warehouseId,\n          qty: parseFloat(_this3.stockForm.qty),\n          locationId: _this3.stockForm.locationId || null,\n          variantValue: _this3.stockForm.variantValue || ''\n        }).toPromise();\n        _this3.toastr.success('Stock added successfully');\n        _this3.showAddStockModal = false;\n        _this3.stockForm = {\n          warehouseId: '',\n          qty: '',\n          locationId: '',\n          variantValue: ''\n        };\n        yield _this3.refreshStock();\n      } catch (error) {\n        _this3.toastr.error(error?.message || 'Failed to add stock');\n      }\n    })();\n  }\n  handleAdjustStock(e) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      e.preventDefault();\n      const id = _this4.route.snapshot.paramMap.get('id');\n      if (!id || !_this4.selectedStock || !_this4.stockForm.qty) {\n        _this4.toastr.error('Please enter quantity');\n        return;\n      }\n      const token = _this4.authService.token;\n      if (!token) return;\n      try {\n        yield _this4.warehouseService.adjustStock({\n          productId: id,\n          warehouseId: _this4.selectedStock.warehouse?._id || _this4.selectedStock.warehouse,\n          qty: parseFloat(_this4.stockForm.qty),\n          locationId: _this4.stockForm.locationId || null,\n          variantValue: _this4.stockForm.variantValue || _this4.selectedStock?.variantValue || ''\n        }).toPromise();\n        _this4.toastr.success('Stock adjusted successfully');\n        _this4.showAdjustStockModal = false;\n        _this4.selectedStock = null;\n        _this4.stockForm = {\n          warehouseId: '',\n          qty: '',\n          locationId: '',\n          variantValue: ''\n        };\n        yield _this4.refreshStock();\n      } catch (error) {\n        _this4.toastr.error(error?.message || 'Failed to adjust stock');\n      }\n    })();\n  }\n  openAdjustModal(stockItem) {\n    this.selectedStock = stockItem;\n    this.stockForm = {\n      warehouseId: stockItem.warehouse?._id || stockItem.warehouse,\n      qty: stockItem.qty || 0,\n      locationId: stockItem.location?._id || stockItem.location || '',\n      variantValue: stockItem.variantValue || ''\n    };\n    this.showAdjustStockModal = true;\n  }\n  get totalStock() {\n    return this.stock.reduce((sum, item) => sum + (item.qty || 0), 0);\n  }\n  get totalAvailable() {\n    return this.stock.reduce((sum, item) => sum + (item.availableQty || 0), 0);\n  }\n  get hasZeroStock() {\n    return this.totalStock === 0;\n  }\n  get hasLowStock() {\n    return this.totalStock > 0 && this.totalAvailable === 0;\n  }\n  formatCurrency(value) {\n    if (value === null || value === undefined || value === '') return '-';\n    const num = typeof value === 'number' ? value : parseFloat(value);\n    if (Number.isNaN(num)) return '-';\n    return `KD ${num.toFixed(2)}`;\n  }\n  formatLocation(location) {\n    if (!location) return '-';\n    const parts = [];\n    if (location.zone) parts.push(location.zone);\n    if (location.shelf) parts.push(location.shelf);\n    if (location.bin) parts.push(location.bin);\n    const result = parts.join('-');\n    return result || location.locationCode || '-';\n  }\n  generatePdf() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this5.product?.id) return;\n      _this5.generatingPdf = true;\n      try {\n        const token = _this5.authService.token;\n        if (!token) {\n          _this5.toastr.error('Authentication required');\n          return;\n        }\n        const response = yield fetch(`${environment.apiUrl}/products/${_this5.product.id}/pdf/generate`, {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        if (response.ok) {\n          const blob = yield response.blob();\n          const url = window.URL.createObjectURL(blob);\n          const a = document.createElement('a');\n          a.href = url;\n          a.download = `product-${_this5.product.id}.pdf`;\n          document.body.appendChild(a);\n          a.click();\n          window.URL.revokeObjectURL(url);\n          document.body.removeChild(a);\n          _this5.toastr.success('PDF generated and downloaded successfully');\n          // Reload product to get updated PDF URL\n          yield _this5.loadProduct(_this5.product.id);\n        } else {\n          const error = yield response.json().catch(() => ({\n            message: 'Failed to generate PDF'\n          }));\n          _this5.toastr.error(error.message || 'Failed to generate PDF');\n        }\n      } catch (error) {\n        _this5.toastr.error(error?.message || 'Failed to generate PDF');\n      } finally {\n        _this5.generatingPdf = false;\n      }\n    })();\n  }\n  openBarcodeModal() {\n    if (!this.product) return;\n    const values = this.variantValues();\n    this.selectedVariantValue = values[0] || this.product.variantValue || '';\n    this.showBarcodeModal = true;\n  }\n  variantValues() {\n    const list = Array.isArray(this.product?.variants) ? this.product.variants : [];\n    const values = list.map(e => String(e?.value || '')).filter(Boolean);\n    if (values.length === 0 && this.product?.variantValue) {\n      values.push(String(this.product.variantValue));\n    }\n    return values;\n  }\n  deriveBarcodeValue(value) {\n    const list = Array.isArray(this.product?.variants) ? this.product.variants : [];\n    const match = list.find(e => String(e?.value || '') === String(value || ''));\n    const base = match?.barcode || match?.sku || this.product?.barcode || this.product?.sku || '';\n    if (!base) return '';\n    // Prefer variant-specific barcode/sku; if base is product-level, append value\n    const isProductLevel = base === this.product?.barcode || base === this.product?.sku;\n    return isProductLevel ? `${base}-${value}` : base;\n  }\n  confirmBarcodeSelection() {\n    const v = String(this.selectedVariantValue || '').trim();\n    this.printBarcodeValue = this.deriveBarcodeValue(v);\n    this.showBarcodeModal = false;\n    if (!this.printBarcodeValue) {\n      this.toastr.warning('Unable to derive barcode for selected variant');\n    } else {\n      this.toastr.success('Barcode generated for selected variant');\n    }\n  }\n  printLabel() {\n    if (!this.product) {\n      this.toastr.error('Product not loaded');\n      return;\n    }\n    // Check if product has variants\n    const variants = this.product.variants || [];\n    if (variants.length > 0) {\n      // For each variant, we'll generate 10 labels\n      this.variantLabels = [];\n      for (const variant of variants) {\n        const barcodeValue = variant.barcode || variant.sku || `${this.product.barcode || this.product.sku}-${variant.value}`;\n        for (let i = 0; i < 10; i++) {\n          this.variantLabels.push({\n            name: this.product.name,\n            sku: this.product.sku,\n            price: this.product.price,\n            barcode: barcodeValue,\n            variantValue: variant.value\n          });\n        }\n      }\n    } else {\n      // If no variants, use the product-level barcode and generate 10 labels\n      const valueToPrint = this.printBarcodeValue || this.product.barcode;\n      if (!valueToPrint) {\n        this.toastr.error('Product must have a barcode to print label');\n        return;\n      }\n      this.variantLabels = [];\n      for (let i = 0; i < 10; i++) {\n        this.variantLabels.push({\n          name: this.product.name,\n          sku: this.product.sku,\n          price: this.product.price,\n          barcode: valueToPrint,\n          variantValue: ''\n        });\n      }\n    }\n    // Mark print container as ready and wait briefly for barcode components to render\n    try {\n      if (this.printContainer?.nativeElement) {\n        this.printContainer.nativeElement.classList.add('print-ready');\n      }\n      setTimeout(() => window.print(), 300);\n    } finally {\n      // Clean up the flag after printing\n      setTimeout(() => {\n        if (this.printContainer?.nativeElement) {\n          this.printContainer.nativeElement.classList.remove('print-ready');\n        }\n      }, 1000);\n    }\n  }\n  static {\n    this.ɵfac = function ProductDetailComponent_Factory(t) {\n      return new (t || ProductDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductsService), i0.ɵɵdirectiveInject(i3.WarehouseService), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i5.ApiService), i0.ɵɵdirectiveInject(i6.ToastrService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductDetailComponent,\n      selectors: [[\"app-product-detail\"]],\n      viewQuery: function ProductDetailComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.printContainer = _t.first);\n        }\n      },\n      decls: 8,\n      vars: 5,\n      consts: [[\"printContainer\", \"\"], [\"singleVariant\", \"\"], [\"class\", \"flex items-center justify-center py-20\", 4, \"ngIf\"], [\"class\", \"card p-6 text-center text-sm text-gray-600\", 4, \"ngIf\"], [\"class\", \"space-y-4\", 4, \"ngIf\"], [1, \"print-label-container\", \"print-only\"], [1, \"label-grid\"], [\"class\", \"product-label\", 4, \"ngFor\", \"ngForOf\"], [\"title\", \"Generate Barcode\", 3, \"open\", \"close\", 4, \"ngIf\"], [1, \"flex\", \"items-center\", \"justify-center\", \"py-20\"], [1, \"h-8\", \"w-8\"], [1, \"card\", \"p-6\", \"text-center\", \"text-sm\", \"text-gray-600\"], [1, \"space-y-4\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"page-title\"], [1, \"flex\", \"items-center\", \"gap-2\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [4, \"ngIf\"], [1, \"btn\", \"btn-secondary\", 3, \"routerLink\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"name\", \"barcode\", 1, \"h-4\", \"w-4\"], [1, \"btn\", \"btn-secondary\", 3, \"click\", \"disabled\"], [\"name\", \"printer\", 1, \"h-4\", \"w-4\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-3\", \"gap-4\"], [1, \"card\", \"p-4\", \"space-y-3\", \"lg:col-span-2\"], [1, \"grid\", \"grid-cols-3\", \"gap-2\", \"py-2\", \"border-b\", \"last:border-b-0\"], [1, \"text-sm\", \"text-gray-500\"], [1, \"col-span-2\", \"text-sm\", \"text-gray-800\"], [\"class\", \"grid grid-cols-3 gap-2 py-2 border-b last:border-b-0\", 4, \"ngIf\"], [1, \"label\", \"mb-1\"], [1, \"text-sm\", \"text-gray-700\", \"whitespace-pre-line\"], [\"class\", \"mt-2\", 4, \"ngIf\"], [1, \"card\", \"p-4\"], [1, \"label\", \"mb-2\"], [\"class\", \"flex flex-wrap items-center gap-3\", 4, \"ngIf\"], [\"class\", \"text-sm text-gray-500\", 4, \"ngIf\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-4\"], [1, \"text-lg\", \"font-semibold\"], [1, \"btn\", \"btn-primary\", \"flex\", \"items-center\", \"gap-2\", 3, \"click\"], [\"name\", \"plus\", 1, \"h-4\", \"w-4\"], [\"class\", \"mb-4 p-3 rounded-lg border\", 3, \"ngClass\", 4, \"ngIf\"], [\"class\", \"text-center py-4\", 4, \"ngIf\"], [\"class\", \"text-center py-8 text-gray-500\", 4, \"ngIf\"], [\"class\", \"overflow-x-auto\", 4, \"ngIf\"], [\"title\", \"Add Stock\", 3, \"open\", \"close\", 4, \"ngIf\"], [\"title\", \"Adjust Stock\", 3, \"open\", \"close\", 4, \"ngIf\"], [1, \"font-medium\"], [\"class\", \"text-xs text-gray-600\", 4, \"ngIf\"], [\"class\", \"mt-1 text-xs text-gray-600 space-y-0.5\", 4, \"ngIf\"], [1, \"text-xs\", \"text-gray-600\"], [1, \"mt-1\", \"text-xs\", \"text-gray-600\", \"space-y-0.5\"], [4, \"ngIf\", \"ngIfElse\"], [\"class\", \"mb-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"mb-1\"], [1, \"mt-2\"], [1, \"w-full\", \"text-sm\"], [1, \"text-left\", \"border-b\"], [1, \"py-2\", \"pr-2\"], [\"class\", \"border-b\", 4, \"ngFor\", \"ngForOf\"], [1, \"border-b\"], [1, \"flex\", \"flex-wrap\", \"items-center\", \"gap-3\"], [1, \"flex\", \"flex-col\", \"items-center\", \"gap-2\"], [\"type\", \"code128\", 3, \"value\"], [1, \"text-xs\", \"text-gray-500\"], [\"type\", \"qr\", 3, \"value\"], [1, \"mb-4\", \"p-3\", \"rounded-lg\", \"border\", 3, \"ngClass\"], [\"name\", \"alert-triangle\", \"class\", \"text-red-600 h-5 w-5\", 4, \"ngIf\"], [\"name\", \"alert-triangle\", \"class\", \"text-orange-600 h-5 w-5\", 4, \"ngIf\"], [1, \"text-sm\", \"font-medium\", \"text-gray-700\"], [3, \"ngClass\"], [1, \"text-xs\", \"text-gray-600\", \"mt-0.5\"], [\"class\", \"text-sm text-red-700 hover:text-red-900 font-medium underline\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"mt-2 text-sm text-red-700\", 4, \"ngIf\"], [\"class\", \"mt-2 text-sm text-orange-700\", 4, \"ngIf\"], [\"name\", \"alert-triangle\", 1, \"text-red-600\", \"h-5\", \"w-5\"], [\"name\", \"alert-triangle\", 1, \"text-orange-600\", \"h-5\", \"w-5\"], [1, \"text-sm\", \"text-red-700\", \"hover:text-red-900\", \"font-medium\", \"underline\", 3, \"click\"], [1, \"mt-2\", \"text-sm\", \"text-red-700\"], [1, \"mt-2\", \"text-sm\", \"text-orange-700\"], [1, \"text-center\", \"py-4\"], [1, \"h-6\", \"w-6\", \"mx-auto\"], [1, \"text-center\", \"py-8\", \"text-gray-500\"], [1, \"overflow-x-auto\"], [1, \"w-full\"], [1, \"text-left\", \"py-2\", \"px-3\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [1, \"text-right\", \"py-2\", \"px-3\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [1, \"text-center\", \"py-2\", \"px-3\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"class\", \"border-b hover:bg-gray-50\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"border-b\", \"hover:bg-gray-50\", 3, \"ngClass\"], [1, \"py-2\", \"px-3\", \"text-sm\"], [1, \"py-2\", \"px-3\", \"text-sm\", \"text-gray-600\"], [1, \"py-2\", \"px-3\", \"text-sm\", \"text-right\", \"font-medium\"], [1, \"flex\", \"items-center\", \"justify-end\", \"gap-1\"], [\"name\", \"alert-triangle\", \"class\", \"text-red-500 h-3.5 w-3.5\", 4, \"ngIf\"], [1, \"py-2\", \"px-3\", \"text-sm\", \"text-right\"], [1, \"py-2\", \"px-3\", \"text-sm\", \"text-right\", \"text-orange-600\"], [1, \"py-2\", \"px-3\", \"text-center\"], [1, \"text-blue-600\", \"hover:text-blue-800\", \"flex\", \"items-center\", \"gap-1\", \"mx-auto\", 3, \"click\"], [\"name\", \"edit-2\", 1, \"h-3.5\", \"w-3.5\"], [\"name\", \"alert-triangle\", 1, \"text-red-500\", \"h-3.5\", \"w-3.5\"], [\"title\", \"Add Stock\", 3, \"close\", \"open\"], [1, \"space-y-4\", 3, \"ngSubmit\"], [1, \"label\"], [1, \"text-red-500\"], [\"name\", \"warehouseId\", \"required\", \"\", 1, \"input\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-red-500\", 4, \"ngIf\"], [\"name\", \"variantValue\", 1, \"input\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"text-xs text-gray-500 mt-1\", 4, \"ngIf\"], [\"type\", \"number\", \"step\", \"0.01\", \"min\", \"0.01\", \"name\", \"qty\", \"required\", \"\", 1, \"input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"flex\", \"gap-2\", \"pt-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"flex-1\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"flex-1\", 3, \"click\"], [3, \"value\"], [1, \"text-xs\", \"text-gray-500\", \"mt-1\"], [\"title\", \"Adjust Stock\", 3, \"close\", \"open\"], [\"type\", \"text\", \"disabled\", \"\", 1, \"input\", \"bg-gray-100\", 3, \"value\"], [\"type\", \"number\", \"step\", \"0.01\", \"min\", \"0\", \"name\", \"qty\", \"required\", \"\", 1, \"input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"product-label\"], [1, \"label-header\"], [1, \"label-product-name\"], [1, \"label-sku\"], [1, \"label-barcodes\"], [1, \"label-barcode-text\"], [1, \"label-footer\"], [1, \"label-price\"], [\"title\", \"Generate Barcode\", 3, \"close\", \"open\"], [\"name\", \"variantValue\", \"required\", \"\", 1, \"input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"flex\", \"gap-2\", \"pt-2\"]],\n      template: function ProductDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, ProductDetailComponent_div_0_Template, 2, 0, \"div\", 2)(1, ProductDetailComponent_div_1_Template, 2, 0, \"div\", 3)(2, ProductDetailComponent_div_2_Template, 79, 27, \"div\", 4);\n          i0.ɵɵelementStart(3, \"div\", 5, 0)(5, \"div\", 6);\n          i0.ɵɵtemplate(6, ProductDetailComponent_div_6_Template, 14, 6, \"div\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(7, ProductDetailComponent_app_modal_7_Template, 16, 3, \"app-modal\", 8);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.product);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.product);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.variantLabels);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showBarcodeModal);\n        }\n      },\n      dependencies: [i7.NgClass, i7.NgForOf, i7.NgIf, i8.ɵNgNoValidate, i8.NgSelectOption, i8.ɵNgSelectMultipleOption, i8.DefaultValueAccessor, i8.NumberValueAccessor, i8.SelectControlValueAccessor, i8.NgControlStatus, i8.NgControlStatusGroup, i8.RequiredValidator, i8.MinValidator, i8.NgModel, i8.NgForm, i1.RouterLink, i9.SpinnerComponent, i10.ModalComponent, i11.BarcodePreviewComponent, i12.LucideIconComponent],\n      styles: [\"\\n\\n@media print {\\n  body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] {\\n    visibility: hidden;\\n  }\\n  .print-only[_ngcontent-%COMP%], .print-only[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] {\\n    visibility: visible;\\n  }\\n  .print-only[_ngcontent-%COMP%] {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n  }\\n}\\n\\n\\n.label-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr); \\n\\n  grid-template-rows: repeat(5, auto); \\n\\n  gap: 10px;\\n  padding: 10mm;\\n}\\n\\n\\n\\n.product-label[_ngcontent-%COMP%] {\\n  border: 1px solid #000;\\n  padding: 6mm;\\n  height: 50mm;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  page-break-inside: avoid;\\n}\\n\\n.label-product-name[_ngcontent-%COMP%] {\\n  font-size: 12px;\\n  font-weight: bold;\\n}\\n\\n.label-sku[_ngcontent-%COMP%] {\\n  font-size: 10px;\\n}\\n\\n.label-barcode-text[_ngcontent-%COMP%] {\\n  font-size: 10px;\\n  text-align: center;\\n}\\n\\n.label-price[_ngcontent-%COMP%] {\\n  font-size: 11px;\\n  font-weight: bold;\\n  text-align: right;\\n}\"]\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}