{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar _a;\nimport { Component } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { WarehouseService } from '../../../core/services/warehouse.service';\nlet LocationsComponent = class LocationsComponent {\n  constructor(warehouseService, api, toastr) {\n    this.warehouseService = warehouseService;\n    this.api = api;\n    this.toastr = toastr;\n    this.warehouses = [];\n    this.locations = [];\n    this.selectedWarehouse = '';\n    this.loading = true;\n    this.locationsLoading = false;\n    this.showAddModal = false;\n    this.locationForm = {\n      warehouseId: '',\n      zone: '',\n      shelf: '',\n      bin: '',\n      aisle: '',\n      level: '1',\n      type: 'storage'\n    };\n    this.locationTypes = ['storage', 'receiving', 'shipping', 'quarantine', 'damaged'];\n  }\n  ngOnInit() {\n    this.loadWarehouses();\n  }\n  loadWarehouses() {\n    this.loading = true;\n    this.warehouseService.list({\n      page: 1,\n      limit: 1000\n    }).subscribe({\n      next: res => {\n        this.warehouses = res.warehouses;\n        if (this.warehouses.length > 0 && !this.selectedWarehouse) {\n          this.selectedWarehouse = this.warehouses[0].id;\n          this.loadLocations();\n        }\n        this.loading = false;\n      },\n      error: () => {\n        this.toastr.error('Failed to load warehouses');\n        this.loading = false;\n      }\n    });\n  }\n  loadLocations() {\n    if (!this.selectedWarehouse) return;\n    this.locationsLoading = true;\n    // Use API service directly since we need warehouseId parameter\n    this.warehouseService['api'].get(`/warehouses/${this.selectedWarehouse}/locations`).subscribe({\n      next: res => {\n        this.locations = res.data || [];\n        this.locationsLoading = false;\n      },\n      error: () => {\n        this.toastr.error('Failed to load locations');\n        this.locationsLoading = false;\n      }\n    });\n  }\n  onWarehouseChange() {\n    this.loadLocations();\n  }\n  openAddModal() {\n    this.locationForm.warehouseId = this.selectedWarehouse;\n    this.showAddModal = true;\n  }\n  closeAddModal() {\n    this.showAddModal = false;\n    this.locationForm = {\n      warehouseId: '',\n      zone: '',\n      shelf: '',\n      bin: '',\n      aisle: '',\n      level: '1',\n      type: 'storage'\n    };\n  }\n  addLocation() {\n    if (!this.locationForm.zone || !this.locationForm.shelf || !this.locationForm.bin) {\n      this.toastr.error('Please fill in zone, shelf, and bin');\n      return;\n    }\n    // Note: This would need a proper API endpoint for adding locations\n    this.toastr.info('Location creation feature needs backend endpoint');\n    this.closeAddModal();\n  }\n};\nLocationsComponent = __decorate([Component({\n  selector: 'app-locations',\n  templateUrl: './locations.component.html',\n  styleUrls: ['./locations.component.scss']\n}), __metadata(\"design:paramtypes\", [WarehouseService, typeof (_a = typeof ApiService !== \"undefined\" && ApiService) === \"function\" ? _a : Object, ToastrService])], LocationsComponent);\nexport { LocationsComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}