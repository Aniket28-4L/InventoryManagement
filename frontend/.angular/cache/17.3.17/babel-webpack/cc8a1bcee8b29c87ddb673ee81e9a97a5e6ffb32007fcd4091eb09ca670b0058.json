{"ast":null,"code":"import { ToastrService } from 'ngx-toastr';\nimport { ProductsService } from '../../../core/services/products.service';\nimport { ApiService } from '../../../core/services/api.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/products.service\";\nimport * as i2 from \"../../../core/services/api.service\";\nimport * as i3 from \"ngx-toastr\";\nexport class BarcodeGenerateComponent {\n  constructor(productsService, api, toastr) {\n    this.productsService = productsService;\n    this.api = api;\n    this.toastr = toastr;\n    this.products = [];\n    this.selectedProduct = null;\n    this.barcodeType = 'code128';\n    this.barcodeValue = '';\n    this.loading = false;\n    this.generatedBarcode = '';\n  }\n  ngOnInit() {\n    this.loadProducts();\n  }\n  loadProducts() {\n    this.loading = true;\n    this.productsService.list({\n      page: 1,\n      limit: 1000\n    }).subscribe({\n      next: res => {\n        this.products = res.products;\n        this.loading = false;\n      },\n      error: () => {\n        this.toastr.error('Failed to load products');\n        this.loading = false;\n      }\n    });\n  }\n  onProductSelect() {\n    if (this.selectedProduct) {\n      this.barcodeValue = this.selectedProduct.barcode || this.selectedProduct.sku || '';\n      this.generateBarcode();\n    }\n  }\n  generateBarcode() {\n    if (!this.barcodeValue) {\n      this.toastr.error('Please enter a barcode value');\n      return;\n    }\n    this.generatedBarcode = this.barcodeValue;\n    if (this.selectedProduct && !this.selectedProduct.barcode) {\n      // Optionally save barcode to product\n    }\n  }\n  saveBarcodeToProduct() {\n    if (!this.selectedProduct || !this.barcodeValue) {\n      this.toastr.error('Please select a product and enter a barcode');\n      return;\n    }\n    this.productsService.update(this.selectedProduct.id, {\n      barcode: this.barcodeValue\n    }).subscribe({\n      next: () => {\n        this.toastr.success('Barcode saved to product');\n        this.loadProducts();\n      },\n      error: () => {\n        this.toastr.error('Failed to save barcode');\n      }\n    });\n  }\n  static {\n    this.ɵfac = function BarcodeGenerateComponent_Factory(t) {\n      return new (t || BarcodeGenerateComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.ToastrService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: BarcodeGenerateComponent,\n      selectors: [[\"app-barcode-generate\"]],\n      decls: 5,\n      vars: 0,\n      consts: [[1, \"space-y-4\"], [1, \"page-title\"]],\n      template: function BarcodeGenerateComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n          i0.ɵɵtext(2, \"Generate Barcode\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"p\");\n          i0.ɵɵtext(4, \"Coming soon...\");\n          i0.ɵɵelementEnd()();\n        }\n      }\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}