{"ast":null,"code":"import { ToastrService } from 'ngx-toastr';\nimport { ProductsService } from '../../../core/services/products.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/products.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../../shared/components/spinner/spinner.component\";\nimport * as i6 from \"../../../shared/components/barcode-preview/barcode-preview.component\";\nimport * as i7 from \"../../../shared/components/lucide-icon/lucide-icon.component\";\nconst _c0 = (a0, a1) => ({\n  \"border-blue-500 bg-blue-50\": a0,\n  \"border-gray-200 hover:border-gray-300\": a1\n});\nconst _c1 = () => [];\nfunction BarcodePrintComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"app-spinner\", 24);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BarcodePrintComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \" No products found. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BarcodePrintComponent_div_32_div_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵelement(1, \"app-barcode-preview\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"value\", product_r2.barcode);\n  }\n}\nfunction BarcodePrintComponent_div_32_div_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵtext(1, \" No barcode assigned \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BarcodePrintComponent_div_32_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵlistener(\"click\", function BarcodePrintComponent_div_32_div_1_Template_div_click_0_listener() {\n      const product_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.toggleProduct(product_r2));\n    });\n    i0.ɵɵelementStart(1, \"div\", 29)(2, \"div\", 30)(3, \"h3\", 31);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 32);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"input\", 33);\n    i0.ɵɵlistener(\"click\", function BarcodePrintComponent_div_32_div_1_Template_input_click_7_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, BarcodePrintComponent_div_32_div_1_div_8_Template, 2, 1, \"div\", 34)(9, BarcodePrintComponent_div_32_div_1_div_9_Template, 2, 0, \"div\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(6, _c0, ctx_r2.isSelected(product_r2), !ctx_r2.isSelected(product_r2)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r2.sku);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"checked\", ctx_r2.isSelected(product_r2));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", product_r2.barcode);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !product_r2.barcode);\n  }\n}\nfunction BarcodePrintComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtemplate(1, BarcodePrintComponent_div_32_div_1_Template, 10, 9, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.products);\n  }\n}\nfunction BarcodePrintComponent_div_34_div_1_app_barcode_preview_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-barcode-preview\", 45);\n  }\n  if (rf & 2) {\n    const product_r4 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵproperty(\"type\", \"code128\")(\"value\", product_r4.barcode);\n  }\n}\nfunction BarcodePrintComponent_div_34_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"h3\", 42);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 43);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, BarcodePrintComponent_div_34_div_1_app_barcode_preview_5_Template, 1, 2, \"app-barcode-preview\", 44);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r4.sku);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", product_r4.barcode);\n  }\n}\nfunction BarcodePrintComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵtemplate(1, BarcodePrintComponent_div_34_div_1_Template, 6, 3, \"div\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(1, _c1).constructor(ctx_r2.quantity));\n  }\n}\nexport class BarcodePrintComponent {\n  constructor(productsService, toastr) {\n    this.productsService = productsService;\n    this.toastr = toastr;\n    this.products = [];\n    this.selectedProducts = [];\n    this.loading = false;\n    this.printFormat = 'standard';\n    this.quantity = 1;\n  }\n  ngOnInit() {\n    this.loadProducts();\n  }\n  loadProducts() {\n    this.loading = true;\n    this.productsService.list({\n      page: 1,\n      limit: 1000\n    }).subscribe({\n      next: res => {\n        this.products = res.products;\n        this.loading = false;\n      },\n      error: () => {\n        this.toastr.error('Failed to load products');\n        this.loading = false;\n      }\n    });\n  }\n  toggleProduct(product) {\n    const index = this.selectedProducts.findIndex(p => p.id === product.id);\n    if (index >= 0) {\n      this.selectedProducts.splice(index, 1);\n    } else {\n      this.selectedProducts.push(product);\n    }\n  }\n  isSelected(product) {\n    return this.selectedProducts.some(p => p.id === product.id);\n  }\n  print() {\n    if (this.selectedProducts.length === 0) {\n      this.toastr.error('Please select at least one product');\n      return;\n    }\n    window.print();\n  }\n  clearSelection() {\n    this.selectedProducts = [];\n  }\n  static {\n    this.ɵfac = function BarcodePrintComponent_Factory(t) {\n      return new (t || BarcodePrintComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.ToastrService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: BarcodePrintComponent,\n      selectors: [[\"app-barcode-print\"]],\n      decls: 35,\n      vars: 9,\n      consts: [[1, \"space-y-4\"], [1, \"flex\", \"items-center\", \"justify-between\", \"flex-wrap\", \"gap-3\"], [1, \"page-title\"], [1, \"flex\", \"items-center\", \"gap-2\"], [1, \"btn\", \"btn-secondary\", 3, \"click\", \"disabled\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [\"name\", \"printer\", 1, \"h-4\", \"w-4\"], [1, \"card\", \"p-4\", \"space-y-4\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-3\", \"gap-4\"], [1, \"label\"], [1, \"input\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"standard\"], [\"value\", \"compact\"], [\"value\", \"large\"], [\"type\", \"number\", \"min\", \"1\", 1, \"input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"flex\", \"items-end\"], [1, \"text-sm\", \"text-gray-600\"], [1, \"card\", \"p-4\"], [\"class\", \"flex items-center justify-center py-12\", 4, \"ngIf\"], [\"class\", \"text-center py-12 text-gray-500\", 4, \"ngIf\"], [\"class\", \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\", 4, \"ngIf\"], [1, \"hidden\", \"print:block\", \"print:space-y-4\"], [\"class\", \"print:break-inside-avoid\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"items-center\", \"justify-center\", \"py-12\"], [1, \"h-6\", \"w-6\"], [1, \"text-center\", \"py-12\", \"text-gray-500\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-3\", \"gap-4\"], [\"class\", \"border rounded-lg p-4 cursor-pointer transition-colors\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"border\", \"rounded-lg\", \"p-4\", \"cursor-pointer\", \"transition-colors\", 3, \"click\", \"ngClass\"], [1, \"flex\", \"items-start\", \"justify-between\", \"mb-2\"], [1, \"flex-1\"], [1, \"font-semibold\", \"text-sm\"], [1, \"text-xs\", \"text-gray-500\"], [\"type\", \"checkbox\", 3, \"click\", \"checked\"], [\"class\", \"mt-2\", 4, \"ngIf\"], [\"class\", \"mt-2 text-xs text-gray-400\", 4, \"ngIf\"], [1, \"mt-2\"], [\"type\", \"code128\", 3, \"value\"], [1, \"mt-2\", \"text-xs\", \"text-gray-400\"], [1, \"print:break-inside-avoid\"], [\"class\", \"print:mb-4 print:border print:p-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"print:mb-4\", \"print:border\", \"print:p-4\"], [1, \"print:text-lg\", \"print:font-bold\", \"print:mb-2\"], [1, \"print:text-sm\", \"print:mb-2\"], [3, \"type\", \"value\", 4, \"ngIf\"], [3, \"type\", \"value\"]],\n      template: function BarcodePrintComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.ɵɵtext(3, \"Print Barcodes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function BarcodePrintComponent_Template_button_click_5_listener() {\n            return ctx.clearSelection();\n          });\n          i0.ɵɵtext(6, \" Clear Selection \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function BarcodePrintComponent_Template_button_click_7_listener() {\n            return ctx.print();\n          });\n          i0.ɵɵelement(8, \"lucide-icon\", 6);\n          i0.ɵɵtext(9, \" Print \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(10, \"div\", 7)(11, \"div\", 8)(12, \"div\")(13, \"label\", 9);\n          i0.ɵɵtext(14, \"Print Format\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"select\", 10);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function BarcodePrintComponent_Template_select_ngModelChange_15_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.printFormat, $event) || (ctx.printFormat = $event);\n            return $event;\n          });\n          i0.ɵɵelementStart(16, \"option\", 11);\n          i0.ɵɵtext(17, \"Standard\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"option\", 12);\n          i0.ɵɵtext(19, \"Compact\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"option\", 13);\n          i0.ɵɵtext(21, \"Large\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(22, \"div\")(23, \"label\", 9);\n          i0.ɵɵtext(24, \"Quantity per Product\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"input\", 14);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function BarcodePrintComponent_Template_input_ngModelChange_25_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.quantity, $event) || (ctx.quantity = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"div\", 15)(27, \"p\", 16);\n          i0.ɵɵtext(28);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(29, \"div\", 17);\n          i0.ɵɵtemplate(30, BarcodePrintComponent_div_30_Template, 2, 0, \"div\", 18)(31, BarcodePrintComponent_div_31_Template, 2, 0, \"div\", 19)(32, BarcodePrintComponent_div_32_Template, 2, 1, \"div\", 20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"div\", 21);\n          i0.ɵɵtemplate(34, BarcodePrintComponent_div_34_Template, 2, 2, \"div\", 22);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"disabled\", ctx.selectedProducts.length === 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.selectedProducts.length === 0);\n          i0.ɵɵadvance(8);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.printFormat);\n          i0.ɵɵadvance(10);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.quantity);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"Selected: \", ctx.selectedProducts.length, \" products\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.products.length === 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.products.length > 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.selectedProducts);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.NgModel, i5.SpinnerComponent, i6.BarcodePreviewComponent, i7.LucideIconComponent]\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}